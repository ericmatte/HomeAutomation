homeassistant:
  name: Home
  latitude: !secret latitude
  longitude: !secret longitude
  elevation: !secret elevation
  unit_system: metric
  time_zone: America/Toronto
  # external_url: !secret external_url
  internal_url: !secret internal_url
  customize: !include customize.yaml

  # Fix for Zooz RGBW mqtt light styling
  customize_domain:
    light:
      assumed_state: false

frontend:
  themes: !include_dir_merge_named themes

my:

http:
  # # For https
  # ssl_certificate: /ssl/fullchain.pem
  # ssl_key: /ssl/privkey.pem
  #ip_ban_enabled: True
  #login_attempts_threshold: 5

# logger:
#   default: warning
#   logs:
#     homeassistant.components.switch.command_line: critical

recorder:
  auto_purge: true
  purge_keep_days: 90

mobile_app:

config:

system_health:

spotify:
  client_id: !secret spotify_client_id
  client_secret: !secret spotify_client_secret

rest_command:
  assistant_relay:
    url: http://127.0.0.1:3000/assistant
    method: POST
    content_type: "application/json"
    payload: '{"command":"{{ command }}"}'

device_tracker:
  - platform: ping
    interval_seconds: 60
    consider_home: 300
    hosts:
      eric_ping: 192.168.0.100
      caro_ping: 192.168.0.101
  - platform: bluetooth_tracker
    interval_seconds: 10
    consider_home: 300
    new_device_defaults:
      track_new_devices: false

# ifttt:
#   key: !secret ifttt_key

notify:
  - name: html5
    platform: html5
    vapid_pub_key: !secret vapid_public_key
    vapid_prv_key: !secret vapid_private_key
    vapid_email: !secret vapid_email

# zwave:
#   usb_path: /dev/ttyACM1 # /dev/ttyACM0

default_config:

updater:

discovery:

history:

logbook:

sun:

binary_sensor:
  # - platform: ping
  #   name: Macbook
  #   host: 192.168.0.102
  #   count: 2
  #   scan_interval: 30
  - platform: ping
    name: Gaming PC
    host: 192.168.0.103
    count: 2
    scan_interval: 30

sensor:
  - platform: time_date
    display_options:
      - "time"
      - "date"
  - platform: moon
  - platform: systemmonitor
    resources:
      - type: memory_free
      - type: processor_use
      - type: last_boot
      - type: disk_use_percent
        arg: /home
      - type: disk_free
        arg: /
  - platform: command_line
    name: CPU temperature
    command: "cat /sys/class/thermal/thermal_zone0/temp"
    unit_of_measurement: "Â°C"
    value_template: "{{ value | multiply(0.001) | round(1) }}"
  - platform: command_line
    name: Database filesize
    command: "du -m /config/home-assistant_v2.db | cut -f1"
    unit_of_measurement: "MB"
    value_template: "{{ value | int - 1 }}"

switch:
  - platform: flux
    mode: mired
    disable_brightness_adjust: True
    stop_colortemp: 2700 # https://www.tanguayphotomag.biz/colour-temperature/mireds.html
    lights:
      - light.dining_table
      - light.desktop

input_boolean:
  sync_tv_lights:
    name: Sync lights with Chromecast
    initial: on
    icon: mdi:flash-circle

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml
