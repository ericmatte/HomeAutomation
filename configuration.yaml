homeassistant:
  name: Home
  latitude: !secret latitude
  longitude: !secret longitude
  elevation: !secret elevation
  unit_system: metric
  time_zone: America/Toronto
  country: "CA"
  internal_url: !secret internal_url
  # external_url: !secret external_url
  # customize: !include customize.yaml

frontend:
  themes: !include_dir_merge_named themes

recorder:
  auto_purge: true
  purge_keep_days: 90

my:
mobile_app:
config:
system_health:
default_config:
history:
logbook:
sun:

http:
  login_attempts_threshold: 5
  #ip_ban_enabled: True

# logger:
#   default: warning
#   logs:
#     homeassistant.components.switch.command_line: critical

# zwave:
#   usb_path: /dev/ttyACM1 # /dev/ttyACM0

smartir:
  check_updates: false

climate:
  - platform: smartir
    name: Heat pump
    unique_id: heat_pump
    device_code: 1281 # elios-heat-pump-smartir-codes.json
    controller_data: remote.rm4
    temperature_sensor: sensor.rm4_temperature
    humidity_sensor: sensor.rm4_humidity

command_line:
  - sensor:
      name: CPU temperature
      command: "cat /sys/class/thermal/thermal_zone0/temp"
      unit_of_measurement: "Â°C"
      value_template: "{{ value | multiply(0.001) | round(1) }}"
  - sensor:
      name: Database filesize
      command: "du -m /config/home-assistant_v2.db | cut -f1"
      unit_of_measurement: "MB"
      value_template: "{{ value | int - 1 }}"

sensor:
  - platform: template
    sensors:
      rainville_propane_tank:
        friendly_name: "Propane Tank Level"
        unit_of_measurement: "%"
        device_class: battery
        unique_id: rainville_propane_tank
        value_template: "{{ states('sensor.rainville_propane_raw') }}"
        attribute_templates:
          last_update: "{{ state_attr('sensor.rainville_propane_raw', 'last_update') }}"
          next_estimated_delivery: "{{ state_attr('sensor.rainville_propane_raw', 'next_estimated_delivery') }}"

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml
